<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFC Emergency Call</title>
    <style>
        * { text-align: center; font-family: Arial, sans-serif; }
        button { padding: 10px 20px; font-size: 18px; margin-top: 20px; cursor: pointer; }
        #output { margin-top: 20px; font-size: 20px; }
    </style>
</head>
<body>
    <h1>ğŸš’ ë¶ˆì´ ë‚¬ì„ ë•Œ, ëˆ„êµ¬ë¥¼ ì¶œë™ì‹œí‚¬ ì§€ ìŠ¤ë§ˆíŠ¸í°ì„ íƒœê·¸í•´ì£¼ì„¸ìš”! ğŸ“¡</h1>
    <button id="scan-btn">ğŸ“¡ NFC ìŠ¤ìº” ì‹œì‘</button>
    <p id="output">NFC íƒœê·¸ ì •ë³´ë¥¼ ì—¬ê¸°ì— í‘œì‹œí•©ë‹ˆë‹¤.</p>

    <script>
        document.getElementById("scan-btn").addEventListener("click", async () => {
            if ("NDEFReader" in window) {
                try {
                    const nfcReader = new NDEFReader();
                    await nfcReader.scan();
                    nfcReader.onreading = event => {
                        const decoder = new TextDecoder();
                        for (const record of event.message.records) {
                            let tagData = decoder.decode(record.data).toLowerCase();
                            document.getElementById("output").textContent = `ğŸ“¡ NFC íƒœê·¸: ${tagData}`;
                            
                            // ğŸš¨ ì¶œë™í•  êµ¬ì¡°ëŒ€ì› ì„ íƒ í›„ ì´ë™
                            if (tagData === "roi") {
                                window.location.href = "roi.html";
                            } else if (tagData === "helly") {
                                window.location.href = "helly.html";
                            } else if (tagData === "poli") {
                                window.location.href = "poli.html";
                            } else if (tagData === "amber") {
                                window.location.href = "amber.html";
                            } else {
                                document.getElementById("output").textContent = "âŒ ì•Œ ìˆ˜ ì—†ëŠ” íƒœê·¸ì…ë‹ˆë‹¤.";
                            }
                        }
                    };
                } catch (error) {
                    document.getElementById("output").textContent = `âš ï¸ NFC ì½ê¸° ì‹¤íŒ¨: ${error.message}`;
                }
            } else {
                document.getElementById("output").textContent = "âŒ ì´ ë¸Œë¼ìš°ì €ëŠ” NFCë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
            }
        });
    </script>
</body>
</html>
